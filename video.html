<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>video</title>
    <link rel="stylesheet" href="css/style.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <meta name="viewport" content= "width=device-width, initial-scale=1.0">
</head>
<body>
    
    <!-- <header><h1>Home</h1></header> -->

    <nav>
        <ul>
            <li><a href="home.html">Home</a></li>
            <li><a href="faq.html">FAQ</a></li>
            <li> <div id='logOut' type='button'>Log Out</div></li>
        </ul>
        
    </nav>
    <div id="wrapper">
    <div class="sidebar" id = "sidebar">
        <div class="top">
            <div class="logo">
                <i class = "bx bxs-castle"></i>
                <span> Goblin Mode </span>
            </div>
            <i class ="bx bx-menu" id = "menubtn"></i>
        </div>
       
        <ul>
            <li>
                <div class="a" onclick="charSheetSwitch()">
                    <i class = "bx bxs-contact"></i>
                    <span class = "nav-item"> CharacterSheet </span>
                </div>
                <span class="tooltip">Character Sheet</span>
            </li>
            <li>
                <div class="a" onclick = "inventorySwitch()">
                    <i class = "bx bxs-backpack"></i>
                    <span class = "nav-item"> Inventory </span>
                </div>
                <span class="tooltip">Inventory</span>
            </li>
            <li>
                <div class="a" onclick ="spellBookSwitch()">
                    <i class = "bx bxs-book"></i>
                    <span class = "nav-item"> Spellbook </span>
                </div>
                <span class="tooltip">Spellbook</span>
            </li>
            <li>
                <div class="a" onclick = "notesSwitch()">
                    <i class = "bx bxs-notepad"></i>
                    <span class = "nav-item"> Notes </span>
                </div>
                <span class="tooltip">Notes</span>
            </li>
           
        </ul>
        <iframe 
            id="videoiFrame"
            src = "groupHomeDisplays/characterSheet.html"
            frameBorder="10"
            scrolling="auto"
        ></iframe>
   </div>

        <button id="join-btn">Join Stream</button>

        <div id="stream-wrapper">
            <div id="video-streams"></div>

            <div id="stream-controls">
                <button id="leave-btn">Leave Stream</button>
                <button id="mic-btn">Mic On</button>
                <button id="camera-btn">Camera on</button>
            </div>
        </div>
    </div>
</body>
<footer>
    <script>
        var date = document.lastModified;
        document.write("This page was last modified on: date " + date);
    </script>
</footer>
  <!-- <script src="https://download.agora.io/sdk/release/AgoraRTC_N.js"></script> -->
<script src="AgoraRTC_N-4.17.0.js"></script>
<script src='videoManager.js'></script>
<script src="node_modules/axios/dist/axios.min.js"></script>
<script type = "module">
    import {logUserOut} from "./firebaseManager.js";
    var logOutButton = document.getElementById('logOut');
    logOutButton.addEventListener('click', logMeOut, false);

    async function logMeOut(){
            var loggedOut = await logUserOut();
            if(loggedOut){
                window.location.replace("index.html");
            }
    }
</script>
<script>
    var sidebar = document.getElementById("sidebar");
    var menubtn = document.getElementById("menubtn");

    menubtn.addEventListener('click', menuFunc, false);
    
    function menuFunc(){
        sidebar.classList.toggle('active');
        
    }
    function charSheetSwitch(){
        var vidFrame = document.getElementById('videoiFrame');
        vidFrame.src = 'groupHomeDisplays/characterSheet.html';
    }
    function inventorySwitch(){
        
        var vidFrame = document.getElementById('videoiFrame');
        vidFrame.src = "groupHomeDisplays/inventory.html";
    }
    function spellBookSwitch(){
        
        var vidFrame = document.getElementById('videoiFrame');
        vidFrame.src = "groupHomeDisplays/spellbook.html";
    }
    function notesSwitch(){
        
        var vidFrame = document.getElementById('videoiFrame');
        vidFrame.src = "groupHomeDisplays/notes.html";
    }
</script>
</html>