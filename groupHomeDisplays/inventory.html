<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>characterSheet</title>
    <link rel="stylesheet" href="../css/style.css">
    <!--[if 1t IE 9]>
    <script scr = "http://html5shim.googlecode.com/svn/trunk/html5.js">
    </script-->
    <meta name="viewport" content= "width=device-width, initial-scale=1.0">
</head>
<body id = "inv-body">
    <span class="banner" >  
        <img src="../images/InventoryBanner.png">
     </span>
    <div id="inventory-wrapper">
        
            <ul id="money">
                <li><img id="imgG" src="../images/gold.png"></li>
                <li ><input id="gold" type='text' maxlength='25' placeholder="0"></input></li>
                <li><img id="imgS" src="../images/silver.png"></li>
                <li><input id="silver" type='text' maxlength='25' placeholder="0"></input></li>
                <li><img id="imgC" src="../images/copper.png"></li>
                <li><input id="copper" type='text' maxlength='25' placeholder="0"></input></li> 
                <li><button class="saveEdits" id="save"> <img src="../images/saveEdits.png"></button></li>
                
            </ul>
            
            <table id="inventory-table">
                <tr> 
                    <td><div id="inventory"></div></td>
                </tr>
            </table>
        </table>
        
        
    </div>
    
    

</body>
</html>

  <!-- Load our React component. -->
  <script type= "module" src="../mainInventory.jsx"></script>
  <script type="module">
    import {setMoney,getMoney} from "../firebaseDnDFlavor.js"
    
    var uid = localStorage.getItem("currentUid");
    var groupid = localStorage.getItem("curID");
    var saveMe = document.getElementById('save');
    saveMe.addEventListener('click', save, false);

    var gold = document.getElementById("gold");
    var silver = document.getElementById("silver");
    var copper = document.getElementById("copper");
    var money = await getMoney(uid,groupid);

    if(money != null){
        gold.value = money[0];
        silver.value = money[1];
        copper.value = money[2];
    }

    async function save(){
        console.log("saved");
        await setMoney(uid, groupid,gold.value,silver.value,copper.value);
        
    }
    document.getElementById("money").clientWidth;
   
  </script>
    
